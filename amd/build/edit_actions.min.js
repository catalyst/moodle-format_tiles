define(["jquery","core/str","core/notification"],function($,str,Notification){"use strict";var Selector={ACTIONAREA:".actions"};var CSS={EDITINPROGRESS:"editinprogress"};var getModuleName=function(element){var name="";Y.use("moodle-course-util",function(Y){name=Y.Moodle.core_course.util.cm.getName(Y.Node(element.get(0)))});return name};var confirmDeleteModule=function(mainelement,onconfirm){var modtypename=mainelement.attr("class").match(/modtype_([^\s]*)/)[1];var modulename=getModuleName(mainelement);str.get_string("pluginname",modtypename).done(function(pluginname){var plugindata={type:pluginname,name:modulename};str.get_strings([{key:"confirm"},{key:modulename===null?"deletechecktype":"deletechecktypename",param:plugindata},{key:"yes"},{key:"no"}]).done(function(s){Notification.confirm(s[0],s[1],s[2],s[3],onconfirm)}).fail(Notification.exception)})};var addActivitySpinner=function(activity){activity.addClass(CSS.EDITINPROGRESS);var actionarea=activity.find(Selector.ACTIONAREA).get(0);if(actionarea){var spinner=M.util.add_spinner(Y,Y.Node(actionarea));spinner.show();return spinner}return null};var addSectionLightbox=function(sectionelement){var lightbox=M.util.add_lightbox(Y,Y.Node(sectionelement.get(0)));lightbox.show();return lightbox};var removeSpinner=function(element,spinner,delay){window.setTimeout(function(){element.removeClass(CSS.EDITINPROGRESS);if(spinner){spinner.hide()}},delay)};var removeLightbox=function(lightbox,delay){if(lightbox){window.setTimeout(function(){lightbox.hide()},delay)}};return{confirmDeleteModule:function(mainelement,onconfirm){confirmDeleteModule(mainelement,onconfirm)},removeLightbox:function(lightbox,delay){removeLightbox(lightbox,delay)},removeSpinner:function(element,spinner,delay){removeSpinner(element,spinner,delay)},getModuleName:function(element){getModuleName(element)},addSectionLightbox:function(sectionelement){addSectionLightbox(sectionelement)},addActivitySpinner:function(activity){addActivitySpinner(activity)}}});
//# sourceMappingURL=edit_actions.min.js.map