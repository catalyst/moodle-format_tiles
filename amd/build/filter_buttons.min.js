define(["jquery"],function($){"use strict";var Selector={FILTER_BUTTON:".filterbutton",TILE:".tile",COLLAPSING:".tile-collapsing",COLLAPSED:".tile-collapsed",SPACER:".spacer",PAGE_CONTENT:"#page-content",REGION_MAIN:"#region-main"};var ClassNames={COLLAPSING:"tile-collapsing",COLLAPSED:"tile-collapsed",SELECTED:"selected"};var Module={getPressedFilterButton:function(courseId,storageEnabled){return storageEnabled?localStorage.getItem("mdl-course-"+courseId+"-filter-btn"):null},setPressedFilterButton:function(courseId,buttonId,storageEnabled){if(storageEnabled){if(buttonId===0){localStorage.removeItem("mdl-course-"+courseId+"-filter-btn")}else{localStorage.setItem("mdl-course-"+courseId+"-filter-btn",buttonId)}}},unCollapseTiles:function(tileIds){tileIds.forEach(function(index,tileId){$("#tile-"+tileIds[tileId]).addClass(ClassNames.COLLAPSING).removeClass(ClassNames.COLLAPSED)});setTimeout(function(){$(Selector.COLLAPSING).removeClass(ClassNames.COLLAPSING)},300)},collapseAllTiles:function(){$(Selector.TILE).not($(Selector.COLLAPSED)).not($(Selector.SPACER)).addClass(ClassNames.COLLAPSING);setTimeout(function(){$(Selector.COLLAPSING).addClass(ClassNames.COLLAPSED).removeClass(ClassNames.COLLAPSING)},250)},unCollapseAllTiles:function(){setTimeout(function(){$(Selector.COLLAPSED).addClass(ClassNames.COLLAPSING).removeClass(ClassNames.COLLAPSED);setTimeout(function(){$(Selector.COLLAPSING).removeClass(ClassNames.COLLAPSING)},250)},250)}};return{init:function(courseId,storageEnabledLocal){$(document).ready(function(){var buttonAlreadyPressed=Module.getPressedFilterButton(courseId,storageEnabledLocal);if(buttonAlreadyPressed){var pressedButton=$("#filterbutton"+buttonAlreadyPressed);if(!pressedButton){Module.setPressedFilterButton(courseId,buttonAlreadyPressed,0)}$(Selector.FILTER_BUTTON).removeClass(ClassNames.SELECTED);pressedButton.addClass(ClassNames.SELECTED);Module.collapseAllTiles();setTimeout(function(){Module.unCollapseTiles(JSON.parse(pressedButton.attr("data-sections")))},250);Module.setPressedFilterButton(courseId,buttonAlreadyPressed,storageEnabledLocal)}var pageContent=$(Selector.PAGE_CONTENT);if(pageContent.length===0){pageContent=$(Selector.REGION_MAIN)}pageContent.on("click",Selector.FILTER_BUTTON,function(e){var button=$(e.target);var buttonId=button.attr("data-buttonid");if(buttonId==="all"||Module.getPressedFilterButton(courseId,storageEnabledLocal)===buttonId){Module.collapseAllTiles();setTimeout(function(){Module.unCollapseAllTiles()},500);$(Selector.FILTER_BUTTON).removeClass(ClassNames.SELECTED);Module.setPressedFilterButton(courseId,0,storageEnabledLocal);$("#filterbutton-all").addClass(ClassNames.SELECTED)}else{$(Selector.FILTER_BUTTON).removeClass(ClassNames.SELECTED);button.addClass(ClassNames.SELECTED);Module.collapseAllTiles();setTimeout(function(){Module.unCollapseTiles(JSON.parse(button.attr("data-sections")))},250);Module.setPressedFilterButton(courseId,buttonId,storageEnabledLocal)}})})}}});
//# sourceMappingURL=filter_buttons.min.js.map