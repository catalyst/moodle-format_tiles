define(["jquery","core/notification","core/config","core/str"],function($,Notification,config,str){"use strict";return{attemptRegistration:function(sesskey,serverUrl,data){data.useragent=navigator.userAgent;data.browserlanguages=navigator.languages;$(document).ready(function(){$.ajax({url:serverUrl,type:"POST",crossDomain:true,contentType:"application/json",data:JSON.stringify(data),dataType:"json",success:function(data){if(data.status){var stringKeys=[{key:"registration",component:"admin"},{key:"registeredthanks",component:"format_tiles"},{key:"registerclicktocomplete",component:"format_tiles"},{key:"ok",component:"format_tiles"},{key:"cancel"}];str.get_strings(stringKeys).done(function(s){Notification.confirm(s[0],s[1]+" "+s[2],s[3],s[4],function(){window.location.href=config.wwwroot+"/course/format/tiles/register.php?key="+data.key+"&sesskey="+sesskey},function(){window.location.href=config.wwwroot+"/admin/settings.php?section=formatsettingtiles"})})}},error:Notification.exception})})}}});
//# sourceMappingURL=registration.min.js.map