define(["jquery"],function($){"use strict";var windowOverlay;var headerOverlay;var body=$("body");var Selector={PAGE:"#page",TILEID:"#tile-",SECTION_ID:"#section-"};var ClassNames={HEADER_OVERLAY:"header-overlay"};var CSS={DISPLAY:"display",Z_INDEX:"z-index",HEIGHT:"height",BG_COLOUR:"background-color"};var fadeHeaderInOut=function(fadeIn){if(!headerOverlay){return false}else{if(fadeIn===true){headerOverlay.fadeIn(300)}else{headerOverlay.fadeOut(300)}return true}};var shadeRGBColor=function(R,G,B,percent){var t=percent<0?0:255;var p=percent<0?percent*-1:percent;var r=Math.round((t-R)*p)+R;var g=Math.round((t-G)*p)+G;var b=Math.round((t-B)*p)+B;return"rgb("+r+","+g+","+b+")"};var getZIndex=function(){var overlayZIndex=parseInt(windowOverlay.css(CSS.Z_INDEX));return overlayZIndex>0?overlayZIndex:0};var set=function(secNumOnTop){windowOverlay.fadeIn(300);var backDropZIndex=parseInt(windowOverlay.css(CSS.Z_INDEX));backDropZIndex=backDropZIndex>0?backDropZIndex:0;var tile=$(Selector.TILEID+secNumOnTop);tile.css(CSS.Z_INDEX,backDropZIndex+1);fadeHeaderInOut(true);$(Selector.SECTION_ID+secNumOnTop).css(CSS.Z_INDEX,backDropZIndex+1);if(tile.css(CSS.BG_COLOUR)&&tile.css(CSS.BG_COLOUR).substr(0,4)==="rgba"){var existingColour=tile.css(CSS.BG_COLOUR).replace("rgba(","").replace(")","").replace(" ","").split(",");tile.css(CSS.BG_COLOUR,shadeRGBColor(parseInt(existingColour[0]),parseInt(existingColour[1]),parseInt(existingColour[2]),.95))}};var setHeaderBarOverlay=function(headerBar){if(headerBar.attr("id")!=="navwrap"){if(headerBar.height()!==undefined){var headerOverlay=$("<div></div>").addClass(ClassNames.HEADER_OVERLAY).attr("id",ClassNames.HEADER_OVERLAY).css(CSS.DISPLAY,"none");headerOverlay.insertAfter(Selector.PAGE).css(CSS.Z_INDEX,getZIndex()+3).css(CSS.HEIGHT,headerBar.outerHeight());return headerOverlay}}return false};return{getZIndex:function(){return getZIndex()},fadeIn:function(){if(windowOverlay.css(CSS.DISPLAY)==="none"){windowOverlay.fadeIn(300)}},getWindowOverlay:function(){if(windowOverlay===undefined){windowOverlay=$("<div></div>").addClass("modal-backdrop fade in").hide().attr("id","window-overlay").appendTo(body)}return windowOverlay},fadeOut:function(){if(windowOverlay.css(CSS.DISPLAY)==="block"){windowOverlay.fadeOut(300);fadeHeaderInOut(false)}},set:function(secNumOnTop){set(secNumOnTop)},getHeaderBarOverlay:function(headerBar){if(headerOverlay===undefined){headerOverlay=setHeaderBarOverlay(headerBar)}return headerOverlay},isVisible:function(){return windowOverlay.is(":visible")}}});
//# sourceMappingURL=window_overlay.min.js.map